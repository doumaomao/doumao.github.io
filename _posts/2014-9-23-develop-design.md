---
date: 2014-9-23 14:00:31+00:00
layout: post
title: anti-patterns development
categories: doc
tags: TEST
---

----------


####架构反模式

 - 在模块设计中，避免这种自带大cache的模块。涉及到cache，将cache功能从频繁升级的模块中剥离出来，采用旁路式cache，或者cache 服务化。
 - 同上述cache相同原理，对于自带大字典的模块，需将字典功能剥离，字典服务化。
 - 主次不分的模块。比如说某产品线的模块，处于上下游的必经之路上，它集成了下游各种服务，包括重要的和不重要的，平均耗时长的和平均耗时短的。针对不同语言做不同处理
	 - 垂直化拆分
	 - 异步处理
	 - 并行调用
	 - 超时设置
 - 疯狂的重试&合理的超时值。这块特别适用于模块交互较多的情况，不合理的超时值和重试策略，危险性极大，很容易造成线上事故。从系统整体考虑，从上层到下层分配超时，上层分配大一点，下层小一点，并且要考虑重试和本模块计算时间的影响。
 - 不考虑短连接产生的TIME_WAIT状态。这种情景

